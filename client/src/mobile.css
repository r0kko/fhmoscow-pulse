/* Global mobile and accessibility baseline */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Make media scale within containers */
img,
svg,
video,
canvas {
  max-width: 100%;
  /* Do not override author-provided dimensions */
}

/* Visible, consistent keyboard focus */
:focus-visible {
  outline: 2px solid var(--brand-color);
  outline-offset: 2px;
}

/* Improve tap targets for non-Bootstrap buttons only on touch devices */
@media (pointer: coarse) {
  button:not(.btn),
  [role='button']:not(.btn) {
    min-height: 40px;
  }
}

/* Respect notches and rounded corners for edge-to-edge UIs */
@supports (padding: env(safe-area-inset-left)) {
  .navbar .container-fluid {
    /* Extra-narrow, modern safe margins */
    padding-left: calc(env(safe-area-inset-left) + 0.375rem);
    padding-right: calc(env(safe-area-inset-right) + 0.375rem);
  }

  footer .container {
    padding-left: calc(env(safe-area-inset-left) + 0.375rem);
    padding-right: calc(env(safe-area-inset-right) + 0.375rem);
    padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem);
  }

  /* Ensure main fluid pages also respect safe areas when using px-0 */
  main.container-fluid.px-0 {
    padding-left: calc(env(safe-area-inset-left) + 0.375rem);
    padding-right: calc(env(safe-area-inset-right) + 0.375rem);
  }
}

/* Prevent iOS zoom on small text inputs */
input,
select,
textarea {
  font-size: 16px;
}

/* Responsive typography for small screens */
@media (max-width: 575.98px) {
  /* Page titles */
  h1,
  .h1 {
    font-size: clamp(1.25rem, 5.5vw, 1.75rem);
    line-height: 1.2;
  }
  /* Section titles and card titles labeled as h5 */
  h2,
  .h2,
  .card-title.h5 {
    font-size: clamp(1.0625rem, 4.5vw, 1.25rem);
    line-height: 1.25;
  }
  /* Subtitles and compact headers */
  h3,
  .h3,
  .h6 {
    font-size: 1rem;
    line-height: 1.25;
  }
}
