# Copy this file to `.env` and replace values as needed.
# Mandatory settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=fhpulse
DB_USER=postgres
DB_PASS=secret

# connection to legacy MySQL database
LEGACY_DB_HOST=legacy-host
LEGACY_DB_PORT=3306
LEGACY_DB_NAME=legacydb
LEGACY_DB_USER=root
LEGACY_DB_PASS=secret

# optional: connection to an additional external MariaDB/MySQL database
# NOTE: Use a DB user with read-only privileges. The application enforces
# read-only for this connection and will block any write attempts.
# EXT_DB_HOST=external-host
# EXT_DB_PORT=3306
# EXT_DB_NAME=externaldb
# EXT_DB_USER=external_user
# EXT_DB_PASS=secret
# EXT_DB_SSL=false
# EXT_DB_SSL_REJECT_UNAUTHORIZED=true

JWT_SECRET=your_jwt_secret
SESSION_SECRET=supersecret

# Optional overrides
# Remove the leading '#' to enable and adjust the values.
# token for DaData suggestions in the Vue client
# VITE_DADATA_TOKEN=your_dadata_api_token
# server-side DaData token
# DADATA_TOKEN=your_dadata_api_token
# secret key for passport validation
# DADATA_SECRET=your_dadata_secret
# JWT_ACCESS_TTL=15m
# JWT_REFRESH_TTL=30d
# JWT_ALG=HS256
# PASSWORD_MIN_LENGTH=8
# PASSWORD_MAX_LENGTH=128
# PASSWORD_PATTERN="(?=.*[A-Za-z])(?=.*\\d)"
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=user@example.com
# SMTP_PASS=secret
# EMAIL_FROM=no-reply@example.com
# REGISTRATION_RATE_WINDOW_MS=3600000
# REGISTRATION_RATE_MAX=5
# PASSWORD_RESET_RATE_WINDOW_MS=3600000
# PASSWORD_RESET_RATE_MAX=5
# LOGIN_RATE_WINDOW_MS=60000
# LOGIN_RATE_MAX=10
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX=100
# S3_BUCKET=my-bucket
# S3_REGION=ru-1
# S3_ENDPOINT=https://s3.example.ru
# S3_ACCESS_KEY=your_key
# S3_SECRET_KEY=your_secret
#
# Production deployment settings
# BASE_URL=https://pulse.fhmoscow.com
# COOKIE_DOMAIN=pulse.fhmoscow.com
# ALLOWED_ORIGINS=https://pulse.fhmoscow.com
# VITE_API_BASE=/api
# SSL_CERT_PATH=/etc/ssl/pulse/fullchain.pem
# SSL_KEY_PATH=/etc/ssl/pulse/privkey.pem
# Uncomment the SSL_* variables only if you want the Node.js server to handle TLS.

# Cron schedules (Prometheus metrics exposed at /metrics)
# By default, a single orchestrator runs the sync pipeline every 6 hours.
# Override here if needed (IANA tz Europe/Moscow is used in code):
# SYNC_ALL_CRON=0 */6 * * *
# Deprecated per-domain schedules (no longer used unless custom-wired):
# CLUB_SYNC_CRON=0 */6 * * *
# GROUND_SYNC_CRON=10 */6 * * *
# TEAM_SYNC_CRON=20 */6 * * *
# STAFF_SYNC_CRON=35 */6 * * *
# PLAYER_SYNC_CRON=40 */6 * * *
# TOURNAMENT_SYNC_CRON=50 */6 * * *

# Match agreement reminders
# Default schedule: daily at 09:00 Europe/Moscow
# Behavior: reminders are sent every morning when less than 7 days remain
# until the match is agreed. Additionally, early pings are sent at 14 and 7 days.
# MATCH_REMINDER_CRON=0 9 * * *
# Days horizon to check upcoming matches for reminders
# MATCH_REMINDER_HORIZON_DAYS=14

# Container images for production compose file
# APP_IMAGE=ghcr.io/your-organization/fhmoscow-pulse
# CLIENT_IMAGE=ghcr.io/your-organization/fhmoscow-pulse-client

# Directory with SBSansText fonts for PDF export
PDF_FONT_DIR=./assets/fonts

# Login security (temporary lockout)
# NOTE: thresholds are hardcoded in codebase for consistency across envs.
# The variables below are ignored.
# LOGIN_MAX_ATTEMPTS=
# LOGIN_ATTEMPT_WINDOW_MS=
# LOGIN_LOCKOUT_MS=
